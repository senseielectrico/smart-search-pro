{
  "text": "  1 | \"\"\"\n  2 | Smart Search - Aplicaci\u00f3n de b\u00fasqueda avanzada de archivos en Windows\n  3 | =========================================================================\n  4 | \n  5 | Integra todos los m\u00f3dulos para proporcionar una herramienta de b\u00fasqueda\n  6 | completa con interfaz gr\u00e1fica PyQt6 y Windows Search API.\n  7 | \n  8 | Caracter\u00edsticas:\n  9 | - B\u00fasqueda en nombre Y contenido de archivos\n 10 | - Soporte para m\u00faltiples palabras con separador *\n 11 | - \u00c1rbol de directorios indexados con estados persistentes\n 12 | - Clasificaci\u00f3n autom\u00e1tica por tipo de archivo\n 13 | - Operaciones de archivos (copiar, mover, abrir)\n 14 | - Tema claro/oscuro\n 15 | - Progreso en tiempo real\n 16 | \n 17 | Uso:\n 18 |     python main.py\n 19 | \n 20 | Autor: Smart Search Team\n 21 | Fecha: 2025-12-11\n 22 | \"\"\"\n 23 | \n 24 | import sys\n 25 | import os\n 26 | import json\n 27 | import logging\n 28 | import threading\n 29 | from pathlib import Path\n 30 | from typing import List, Dict, Optional, Set\n 31 | from datetime import datetime\n 32 | \n 33 | # Configurar logger\n 34 | logger = logging.getLogger(__name__)\n 35 | \n 36 | # PyQt6 imports\n 37 | from PyQt6.QtWidgets import (\n 38 |     QApplication, QMainWindow, QWidget, QVBoxLayout, QHBoxLayout,\n 39 |     QLineEdit, QPushButton, QTreeWidget, QTreeWidgetItem, QTabWidget,\n 40 |     QTableWidget, QTableWidgetItem, QSplitter, QLabel, QComboBox,\n 41 |     QFileDialog, QProgressBar, QMessageBox, QMenu, QHeaderView,\n 42 |     QCheckBox, QGroupBox, QFrame, QStatusBar\n 43 | )\n 44 | from PyQt6.QtCore import Qt, QThread, pyqtSignal, QTimer\n 45 | from PyQt6.QtGui import QFont, QAction, QKeySequence, QIcon, QPixmap, QPainter, QColor\n 46 | \n 47 | # Backend imports\n 48 | from backend import (\n 49 |     SearchService, SearchQuery, SearchResult,\n 50 |     FileOperations\n 51 | )\n 52 | \n 53 | # Importar categor\u00edas del sistema unificado\n 54 | from categories import FileCategory\n 55 | \n 56 | # File manager imports\n 57 | from file_manager import (\n 58 |     DirectoryTree, CheckState, DirectoryNode,\n 59 |     WindowsSearchIndexManager, create_tree_from_indexed_directories\n 60 | )\n 61 | \n 62 | # Classifier imports\n 63 | from classifier import (\n 64 |     classify_file, format_file_size, format_date,\n 65 |     ResultItem, group_results_by_type, get_category_stats\n 66 | )\n 67 | \n 68 | \n 69 | # ============================================================================\n 70 | # CONFIGURACI\u00d3N\n 71 | # ============================================================================\n 72 | \n 73 | APP_NAME = \"Smart Search\"\n 74 | APP_VERSION = \"1.0.0\"\n 75 | CONFIG_DIR = Path.home() / \".smart_search\"\n 76 | CONFIG_FILE = CONFIG_DIR / \"config.json\"\n 77 | TREE_CONFIG_FILE = CONFIG_DIR / \"directory_tree.json\"\n 78 | \n 79 | \n 80 | def create_app_icon() -> QIcon:\n 81 |     \"\"\"Creates a programmatic icon for the application\"\"\"\n 82 |     # Create a 64x64 pixmap with search icon\n 83 |     sizes = [16, 32, 48, 64, 128, 256]\n 84 |     icon = QIcon()\n 85 | \n 86 |     for size in sizes:\n 87 |         pixmap = QPixmap(size, size)\n 88 |         pixmap.fill(Qt.GlobalColor.transparent)\n 89 | \n 90 |         painter = QPainter(pixmap)\n 91 |         painter.setRenderHint(QPainter.RenderHint.Antialiasing)\n 92 | \n 93 |         # Draw search magnifying glass\n 94 |         scale = size / 64.0\n 95 | \n 96 |         # Background circle (blue)\n 97 |         painter.setBrush(QColor(14, 99, 156))  # Windows blue\n 98 |         painter.setPen(Qt.PenStyle.NoPen)\n 99 |         painter.drawEllipse(int(4*scale), int(4*scale), int(56*scale), int(56*scale))\n100 | \n101 |         # Magnifying glass circle (white)\n102 |         painter.setBrush(QColor(255, 255, 255))\n103 |         painter.drawEllipse(int(12*scale), int(12*scale), int(28*scale), int(28*scale))\n104 | \n105 |         # Inner circle (blue) - creates ring effect\n106 |         painter.setBrush(QColor(14, 99, 156))\n107 |         painter.drawEllipse(int(18*scale), int(18*scale), int(16*scale), int(16*scale))\n108 | \n109 |         # Magnifying glass handle (white)\n110 |         from PyQt6.QtGui import QPen\n111 |         pen = QPen(QColor(255, 255, 255))\n112 |         pen.setWidth(int(6*scale))\n113 |         pen.setCapStyle(Qt.PenCapStyle.RoundCap)\n114 |         painter.setPen(pen)\n115 |         painter.drawLine(int(38*scale), int(38*scale), int(50*scale), int(50*scale))\n116 | \n117 |         painter.end()\n118 |         icon.addPixmap(pixmap)\n119 | \n120 |     return icon\n121 | \n122 | \n123 | # ============================================================================\n124 | # WORKER THREADS\n125 | # ============================================================================\n126 | \n127 | class IntegratedSearchWorker(QThread):\n128 |     \"\"\"Worker thread que usa el backend real de Windows Search API\"\"\"\n129 | \n130 |     # Se\u00f1ales\n131 |     progress = pyqtSignal(int, str)  # progress, current file\n132 |     result = pyqtSignal(SearchResult)  # resultado individual\n133 |     finished = pyqtSignal(int)  # total resultados\n134 |     error = pyqtSignal(str)  # mensaje de error\n135 | \n136 |     def __init__(\n137 |         self,\n138 |         search_service: SearchService,\n139 |         keywords: List[str],\n140 |         search_paths: List[str],\n141 |         search_content: bool,\n142 |         search_filename: bool\n143 |     ):\n144 |         super().__init__()\n145 |         self.search_service = search_service\n146 |         self.keywords = keywords\n147 |         self.search_paths = search_paths\n148 |         self.search_content = search_content\n149 |         self.search_filename = search_filename\n150 |         self._cancel_requested = threading.Event()\n151 |         self.results_count = 0\n152 | \n153 |     def run(self):\n154 |         \"\"\"Ejecuta la b\u00fasqueda usando SearchService\"\"\"\n155 |         try:\n156 |             # Construir query\n157 |             query = SearchQuery(\n158 |                 keywords=self.keywords,\n159 |                 search_paths=self.search_paths,\n160 |                 search_content=self.search_content,\n161 |                 search_filename=self.search_filename,\n162 |                 max_results=10000\n163 |             )\n164 | \n165 |             # Callback para resultados individuales\n166 |             def on_result(result: SearchResult):\n167 |                 if not self._cancel_requested.is_set():\n168 |                     self.results_count += 1\n169 |                     self.result.emit(result)\n170 | \n171 |                     if self.results_count % 10 == 0:\n172 |                         self.progress.emit(0, result.name)\n173 | \n174 |             # Ejecutar b\u00fasqueda s\u00edncrona (ya estamos en thread)\n175 |             results = self.search_service.search_sync(query, callback=on_result)\n176 | \n177 |             # Emitir finalizaci\u00f3n si no fue cancelada\n178 |             if not self._cancel_requested.is_set():\n179 |                 self.finished.emit(len(results))\n180 |             else:\n181 |                 self.finished.emit(0)\n182 | \n183 |         except Exception as e:\n184 |             if not self._cancel_requested.is_set():\n185 |                 self.error.emit(str(e))\n186 |                 logger.exception(f\"Error in search worker: {e}\")\n187 | \n188 |     def stop(self):\n189 |         \"\"\"Detiene la b\u00fasqueda\"\"\"\n190 |         self._cancel_requested.set()\n191 |         logger.info(\"Search cancellation requested\")\n192 | \n193 | \n194 | # ============================================================================\n195 | # WIDGETS PERSONALIZADOS\n196 | # ============================================================================\n197 | \n198 | class IntegratedDirectoryTreeWidget(QTreeWidget):\n199 |     \"\"\"\n200 |     Widget de \u00e1rbol de directorios integrado con DirectoryTree backend\n201 |     \"\"\"\n202 | \n203 |     def __init__(self, parent=None):\n204 |         super().__init__(parent)\n205 |         self.setHeaderLabel(\"Directories to Search\")\n206 |         self.setMinimumWidth(300)\n207 | \n208 |         # Backend DirectoryTree\n209 |         self.tree_model = DirectoryTree()\n210 | \n211 |         # Configurar widget\n212 |         self.itemChanged.connect(self._on_item_changed)\n213 |         self._suppress_signals = False\n214 | \n215 |         # Poblar desde directorios indexados\n216 |         self._populate_from_indexed()\n217 | \n218 |         # Intentar cargar configuraci\u00f3n guardada\n219 |         self._load_tree_config()\n220 | \n221 |     def _populate_from_indexed(self):\n222 |         \"\"\"Pobla el \u00e1rbol desde los directorios indexados de Windows\"\"\"\n223 |         self.clear()\n224 | \n225 |         # Obtener directorios indexados\n226 |         indexed_dirs = WindowsSearchIndexManager.get_indexed_directories()\n227 | \n228 |         # Si no hay indexados, usar directorios comunes\n229 |         if not indexed_dirs:\n230 |             user_profile = os.environ.get('USERPROFILE', '')\n231 |             if user_profile:\n232 |                 indexed_dirs = [\n233 |                     user_profile,\n234 |                     os.path.join(user_profile, 'Desktop'),\n235 |                     os.path.join(user_profile, 'Documents'),\n236 |                     os.path.join(user_profile, 'Downloads'),\n237 |                     os.path.join(user_profile, 'Pictures'),\n238 |                     os.path.join(user_profile, 'Videos'),\n239 |                     os.path.join(user_profile, 'Music'),\n240 |                 ]\n241 | \n242 |         # A\u00f1adir al modelo backend\n243 |         for directory in indexed_dirs:\n244 |             if os.path.exists(directory):\n245 |                 self.tree_model.add_directory(directory)\n246 | \n247 |         # Construir UI desde modelo\n248 |         self._build_ui_from_model()\n249 | \n250 |     def _build_ui_from_model(self):\n251 |         \"\"\"Construye la UI del \u00e1rbol desde el modelo backend\"\"\"\n252 |         self._suppress_signals = True\n253 | \n254 |         def add_node_to_tree(node: DirectoryNode, parent_item: Optional[QTreeWidgetItem] = None):\n255 |             # Crear item\n256 |             display_name = node.name\n257 |             item = QTreeWidgetItem([display_name])\n258 | \n259 |             # Establecer estado checkbox\n260 |             qt_state = self._checkstate_to_qt(node.state)\n261 |             item.setCheckState(0, qt_state)\n262 | \n263 |             # Guardar referencia al nodo\n264 |             item.setData(0, Qt.ItemDataRole.UserRole, node.path)\n265 |             item.setToolTip(0, node.path)\n266 | \n267 |             # A\u00f1adir a padre o ra\u00edz\n268 |             if parent_item:\n269 |                 parent_item.addChild(item)\n270 |             else:\n271 |                 self.addTopLevelItem(item)\n272 | \n273 |             # Recursivamente a\u00f1adir hijos\n274 |             for child_name in sorted(node.children.keys()):\n275 |                 child_node = node.children[child_name]\n276 |                 add_node_to_tree(child_node, item)\n277 | \n278 |         # A\u00f1adir todos los nodos ra\u00edz\n279 |         for root_name in sorted(self.tree_model.root_nodes.keys()):\n280 |             root_node = self.tree_model.root_nodes[root_name]\n281 |             add_node_to_tree(root_node)\n282 | \n283 |         self._suppress_signals = False\n284 | \n285 |     def _checkstate_to_qt(self, state: CheckState) -> Qt.CheckState:\n286 |         \"\"\"Convierte CheckState a Qt.CheckState\"\"\"\n287 |         mapping = {\n288 |             CheckState.UNCHECKED: Qt.CheckState.Unchecked,\n289 |             CheckState.PARTIAL: Qt.CheckState.PartiallyChecked,\n290 |             CheckState.CHECKED: Qt.CheckState.Checked\n291 |         }\n292 |         return mapping.get(state, Qt.CheckState.Unchecked)\n293 | \n294 |     def _qt_to_checkstate(self, qt_state: Qt.CheckState) -> CheckState:\n295 |         \"\"\"Convierte Qt.CheckState a CheckState\"\"\"\n296 |         mapping = {\n297 |             Qt.CheckState.Unchecked: CheckState.UNCHECKED,\n298 |             Qt.CheckState.PartiallyChecked: CheckState.PARTIAL,\n299 |             Qt.CheckState.Checked: CheckState.CHECKED\n300 |         }\n301 |         return mapping.get(qt_state, CheckState.UNCHECKED)\n302 | \n303 |     def _on_item_c",
  "encoding": "utf-8",
  "lines": 303,
  "truncated": true,
  "language": "python",
  "highlighted": "<div class=\"source\" style=\"background: #272822\"><table class=\"sourcetable\"><tr><td class=\"linenos\"><div class=\"linenodiv\"><pre><span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">  1</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">  2</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">  3</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">  4</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">  5</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">  6</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">  7</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">  8</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">  9</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 10</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 11</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 12</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 13</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 14</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 15</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 16</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 17</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 18</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 19</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 20</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 21</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 22</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 23</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 24</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 25</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 26</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 27</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 28</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 29</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 30</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 31</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 32</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 33</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 34</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 35</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 36</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 37</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 38</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 39</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 40</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 41</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 42</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 43</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 44</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 45</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 46</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 47</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 48</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 49</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 50</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 51</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 52</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 53</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 54</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 55</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 56</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 57</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 58</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 59</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 60</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 61</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 62</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 63</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 64</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 65</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 66</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 67</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 68</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 69</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 70</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 71</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 72</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 73</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 74</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 75</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 76</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 77</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 78</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 79</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 80</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 81</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 82</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 83</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 84</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 85</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 86</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 87</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 88</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 89</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 90</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 91</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 92</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 93</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 94</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 95</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 96</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 97</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 98</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\"> 99</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">100</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">101</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">102</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">103</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">104</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">105</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">106</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">107</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">108</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">109</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">110</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">111</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">112</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">113</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">114</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">115</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">116</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">117</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">118</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">119</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">120</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">121</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">122</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">123</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">124</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">125</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">126</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">127</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">128</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">129</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">130</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">131</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">132</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">133</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">134</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">135</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">136</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">137</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">138</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">139</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">140</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">141</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">142</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">143</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">144</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">145</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">146</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">147</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">148</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">149</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">150</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">151</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">152</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">153</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">154</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">155</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">156</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">157</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">158</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">159</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">160</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">161</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">162</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">163</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">164</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">165</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">166</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">167</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">168</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">169</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">170</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">171</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">172</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">173</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">174</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">175</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">176</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">177</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">178</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">179</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">180</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">181</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">182</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">183</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">184</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">185</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">186</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">187</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">188</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">189</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">190</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">191</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">192</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">193</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">194</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">195</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">196</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">197</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">198</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">199</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">200</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">201</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">202</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">203</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">204</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">205</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">206</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">207</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">208</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">209</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">210</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">211</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">212</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">213</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">214</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">215</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">216</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">217</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">218</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">219</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">220</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">221</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">222</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">223</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">224</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">225</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">226</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">227</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">228</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">229</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">230</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">231</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">232</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">233</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">234</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">235</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">236</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">237</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">238</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">239</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">240</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">241</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">242</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">243</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">244</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">245</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">246</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">247</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">248</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">249</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">250</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">251</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">252</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">253</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">254</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">255</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">256</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">257</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">258</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">259</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">260</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">261</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">262</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">263</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">264</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">265</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">266</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">267</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">268</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">269</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">270</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">271</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">272</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">273</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">274</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">275</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">276</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">277</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">278</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">279</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">280</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">281</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">282</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">283</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">284</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">285</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">286</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">287</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">288</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">289</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">290</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">291</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">292</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">293</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">294</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">295</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">296</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">297</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">298</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">299</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">300</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">301</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">302</span>\n<span style=\"color: inherit; background-color: transparent; padding-left: 5px; padding-right: 5px;\">303</span></pre></div></td><td class=\"code\"><div><pre style=\"line-height: 125%;\"><span></span><span style=\"color: #E6DB74\">&quot;&quot;&quot;</span>\n<span style=\"color: #E6DB74\">Smart Search - Aplicaci\u00f3n de b\u00fasqueda avanzada de archivos en Windows</span>\n<span style=\"color: #E6DB74\">=========================================================================</span>\n\n<span style=\"color: #E6DB74\">Integra todos los m\u00f3dulos para proporcionar una herramienta de b\u00fasqueda</span>\n<span style=\"color: #E6DB74\">completa con interfaz gr\u00e1fica PyQt6 y Windows Search API.</span>\n\n<span style=\"color: #E6DB74\">Caracter\u00edsticas:</span>\n<span style=\"color: #E6DB74\">- B\u00fasqueda en nombre Y contenido de archivos</span>\n<span style=\"color: #E6DB74\">- Soporte para m\u00faltiples palabras con separador *</span>\n<span style=\"color: #E6DB74\">- \u00c1rbol de directorios indexados con estados persistentes</span>\n<span style=\"color: #E6DB74\">- Clasificaci\u00f3n autom\u00e1tica por tipo de archivo</span>\n<span style=\"color: #E6DB74\">- Operaciones de archivos (copiar, mover, abrir)</span>\n<span style=\"color: #E6DB74\">- Tema claro/oscuro</span>\n<span style=\"color: #E6DB74\">- Progreso en tiempo real</span>\n\n<span style=\"color: #E6DB74\">Uso:</span>\n<span style=\"color: #E6DB74\">    python main.py</span>\n\n<span style=\"color: #E6DB74\">Autor: Smart Search Team</span>\n<span style=\"color: #E6DB74\">Fecha: 2025-12-11</span>\n<span style=\"color: #E6DB74\">&quot;&quot;&quot;</span>\n\n<span style=\"color: #FF4689\">import</span><span style=\"color: #F8F8F2\"> sys</span>\n<span style=\"color: #FF4689\">import</span><span style=\"color: #F8F8F2\"> os</span>\n<span style=\"color: #FF4689\">import</span><span style=\"color: #F8F8F2\"> json</span>\n<span style=\"color: #FF4689\">import</span><span style=\"color: #F8F8F2\"> logging</span>\n<span style=\"color: #FF4689\">import</span><span style=\"color: #F8F8F2\"> threading</span>\n<span style=\"color: #FF4689\">from</span><span style=\"color: #F8F8F2\"> pathlib </span><span style=\"color: #FF4689\">import</span> <span style=\"color: #F8F8F2\">Path</span>\n<span style=\"color: #FF4689\">from</span><span style=\"color: #F8F8F2\"> typing </span><span style=\"color: #FF4689\">import</span> <span style=\"color: #F8F8F2\">List,</span> <span style=\"color: #F8F8F2\">Dict,</span> <span style=\"color: #F8F8F2\">Optional,</span> <span style=\"color: #F8F8F2\">Set</span>\n<span style=\"color: #FF4689\">from</span><span style=\"color: #F8F8F2\"> datetime </span><span style=\"color: #FF4689\">import</span> <span style=\"color: #F8F8F2\">datetime</span>\n\n<span style=\"color: #959077\"># Configurar logger</span>\n<span style=\"color: #F8F8F2\">logger</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">logging</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">getLogger(__name__)</span>\n\n<span style=\"color: #959077\"># PyQt6 imports</span>\n<span style=\"color: #FF4689\">from</span><span style=\"color: #F8F8F2\"> PyQt6.QtWidgets </span><span style=\"color: #FF4689\">import</span> <span style=\"color: #F8F8F2\">(</span>\n    <span style=\"color: #F8F8F2\">QApplication,</span> <span style=\"color: #F8F8F2\">QMainWindow,</span> <span style=\"color: #F8F8F2\">QWidget,</span> <span style=\"color: #F8F8F2\">QVBoxLayout,</span> <span style=\"color: #F8F8F2\">QHBoxLayout,</span>\n    <span style=\"color: #F8F8F2\">QLineEdit,</span> <span style=\"color: #F8F8F2\">QPushButton,</span> <span style=\"color: #F8F8F2\">QTreeWidget,</span> <span style=\"color: #F8F8F2\">QTreeWidgetItem,</span> <span style=\"color: #F8F8F2\">QTabWidget,</span>\n    <span style=\"color: #F8F8F2\">QTableWidget,</span> <span style=\"color: #F8F8F2\">QTableWidgetItem,</span> <span style=\"color: #F8F8F2\">QSplitter,</span> <span style=\"color: #F8F8F2\">QLabel,</span> <span style=\"color: #F8F8F2\">QComboBox,</span>\n    <span style=\"color: #F8F8F2\">QFileDialog,</span> <span style=\"color: #F8F8F2\">QProgressBar,</span> <span style=\"color: #F8F8F2\">QMessageBox,</span> <span style=\"color: #F8F8F2\">QMenu,</span> <span style=\"color: #F8F8F2\">QHeaderView,</span>\n    <span style=\"color: #F8F8F2\">QCheckBox,</span> <span style=\"color: #F8F8F2\">QGroupBox,</span> <span style=\"color: #F8F8F2\">QFrame,</span> <span style=\"color: #F8F8F2\">QStatusBar</span>\n<span style=\"color: #F8F8F2\">)</span>\n<span style=\"color: #FF4689\">from</span><span style=\"color: #F8F8F2\"> PyQt6.QtCore </span><span style=\"color: #FF4689\">import</span> <span style=\"color: #F8F8F2\">Qt,</span> <span style=\"color: #F8F8F2\">QThread,</span> <span style=\"color: #F8F8F2\">pyqtSignal,</span> <span style=\"color: #F8F8F2\">QTimer</span>\n<span style=\"color: #FF4689\">from</span><span style=\"color: #F8F8F2\"> PyQt6.QtGui </span><span style=\"color: #FF4689\">import</span> <span style=\"color: #F8F8F2\">QFont,</span> <span style=\"color: #F8F8F2\">QAction,</span> <span style=\"color: #F8F8F2\">QKeySequence,</span> <span style=\"color: #F8F8F2\">QIcon,</span> <span style=\"color: #F8F8F2\">QPixmap,</span> <span style=\"color: #F8F8F2\">QPainter,</span> <span style=\"color: #F8F8F2\">QColor</span>\n\n<span style=\"color: #959077\"># Backend imports</span>\n<span style=\"color: #FF4689\">from</span><span style=\"color: #F8F8F2\"> backend </span><span style=\"color: #FF4689\">import</span> <span style=\"color: #F8F8F2\">(</span>\n    <span style=\"color: #F8F8F2\">SearchService,</span> <span style=\"color: #F8F8F2\">SearchQuery,</span> <span style=\"color: #F8F8F2\">SearchResult,</span>\n    <span style=\"color: #F8F8F2\">FileOperations</span>\n<span style=\"color: #F8F8F2\">)</span>\n\n<span style=\"color: #959077\"># Importar categor\u00edas del sistema unificado</span>\n<span style=\"color: #FF4689\">from</span><span style=\"color: #F8F8F2\"> categories </span><span style=\"color: #FF4689\">import</span> <span style=\"color: #F8F8F2\">FileCategory</span>\n\n<span style=\"color: #959077\"># File manager imports</span>\n<span style=\"color: #FF4689\">from</span><span style=\"color: #F8F8F2\"> file_manager </span><span style=\"color: #FF4689\">import</span> <span style=\"color: #F8F8F2\">(</span>\n    <span style=\"color: #F8F8F2\">DirectoryTree,</span> <span style=\"color: #F8F8F2\">CheckState,</span> <span style=\"color: #F8F8F2\">DirectoryNode,</span>\n    <span style=\"color: #F8F8F2\">WindowsSearchIndexManager,</span> <span style=\"color: #F8F8F2\">create_tree_from_indexed_directories</span>\n<span style=\"color: #F8F8F2\">)</span>\n\n<span style=\"color: #959077\"># Classifier imports</span>\n<span style=\"color: #FF4689\">from</span><span style=\"color: #F8F8F2\"> classifier </span><span style=\"color: #FF4689\">import</span> <span style=\"color: #F8F8F2\">(</span>\n    <span style=\"color: #F8F8F2\">classify_file,</span> <span style=\"color: #F8F8F2\">format_file_size,</span> <span style=\"color: #F8F8F2\">format_date,</span>\n    <span style=\"color: #F8F8F2\">ResultItem,</span> <span style=\"color: #F8F8F2\">group_results_by_type,</span> <span style=\"color: #F8F8F2\">get_category_stats</span>\n<span style=\"color: #F8F8F2\">)</span>\n\n\n<span style=\"color: #959077\"># ============================================================================</span>\n<span style=\"color: #959077\"># CONFIGURACI\u00d3N</span>\n<span style=\"color: #959077\"># ============================================================================</span>\n\n<span style=\"color: #F8F8F2\">APP_NAME</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #E6DB74\">&quot;Smart Search&quot;</span>\n<span style=\"color: #F8F8F2\">APP_VERSION</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #E6DB74\">&quot;1.0.0&quot;</span>\n<span style=\"color: #F8F8F2\">CONFIG_DIR</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">Path</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">home()</span> <span style=\"color: #FF4689\">/</span> <span style=\"color: #E6DB74\">&quot;.smart_search&quot;</span>\n<span style=\"color: #F8F8F2\">CONFIG_FILE</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">CONFIG_DIR</span> <span style=\"color: #FF4689\">/</span> <span style=\"color: #E6DB74\">&quot;config.json&quot;</span>\n<span style=\"color: #F8F8F2\">TREE_CONFIG_FILE</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">CONFIG_DIR</span> <span style=\"color: #FF4689\">/</span> <span style=\"color: #E6DB74\">&quot;directory_tree.json&quot;</span>\n\n\n<span style=\"color: #66D9EF\">def</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #A6E22E\">create_app_icon</span><span style=\"color: #F8F8F2\">()</span> <span style=\"color: #FF4689\">-&gt;</span> <span style=\"color: #F8F8F2\">QIcon:</span>\n<span style=\"color: #F8F8F2\">    </span><span style=\"color: #E6DB74\">&quot;&quot;&quot;Creates a programmatic icon for the application&quot;&quot;&quot;</span>\n    <span style=\"color: #959077\"># Create a 64x64 pixmap with search icon</span>\n    <span style=\"color: #F8F8F2\">sizes</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">[</span><span style=\"color: #AE81FF\">16</span><span style=\"color: #F8F8F2\">,</span> <span style=\"color: #AE81FF\">32</span><span style=\"color: #F8F8F2\">,</span> <span style=\"color: #AE81FF\">48</span><span style=\"color: #F8F8F2\">,</span> <span style=\"color: #AE81FF\">64</span><span style=\"color: #F8F8F2\">,</span> <span style=\"color: #AE81FF\">128</span><span style=\"color: #F8F8F2\">,</span> <span style=\"color: #AE81FF\">256</span><span style=\"color: #F8F8F2\">]</span>\n    <span style=\"color: #F8F8F2\">icon</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">QIcon()</span>\n\n    <span style=\"color: #66D9EF\">for</span> <span style=\"color: #F8F8F2\">size</span> <span style=\"color: #FF4689\">in</span> <span style=\"color: #F8F8F2\">sizes:</span>\n        <span style=\"color: #F8F8F2\">pixmap</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">QPixmap(size,</span> <span style=\"color: #F8F8F2\">size)</span>\n        <span style=\"color: #F8F8F2\">pixmap</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">fill(Qt</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">GlobalColor</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">transparent)</span>\n\n        <span style=\"color: #F8F8F2\">painter</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">QPainter(pixmap)</span>\n        <span style=\"color: #F8F8F2\">painter</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">setRenderHint(QPainter</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">RenderHint</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">Antialiasing)</span>\n\n        <span style=\"color: #959077\"># Draw search magnifying glass</span>\n        <span style=\"color: #F8F8F2\">scale</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">size</span> <span style=\"color: #FF4689\">/</span> <span style=\"color: #AE81FF\">64.0</span>\n\n        <span style=\"color: #959077\"># Background circle (blue)</span>\n        <span style=\"color: #F8F8F2\">painter</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">setBrush(QColor(</span><span style=\"color: #AE81FF\">14</span><span style=\"color: #F8F8F2\">,</span> <span style=\"color: #AE81FF\">99</span><span style=\"color: #F8F8F2\">,</span> <span style=\"color: #AE81FF\">156</span><span style=\"color: #F8F8F2\">))</span>  <span style=\"color: #959077\"># Windows blue</span>\n        <span style=\"color: #F8F8F2\">painter</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">setPen(Qt</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">PenStyle</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">NoPen)</span>\n        <span style=\"color: #F8F8F2\">painter</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">drawEllipse(int(</span><span style=\"color: #AE81FF\">4</span><span style=\"color: #FF4689\">*</span><span style=\"color: #F8F8F2\">scale),</span> <span style=\"color: #F8F8F2\">int(</span><span style=\"color: #AE81FF\">4</span><span style=\"color: #FF4689\">*</span><span style=\"color: #F8F8F2\">scale),</span> <span style=\"color: #F8F8F2\">int(</span><span style=\"color: #AE81FF\">56</span><span style=\"color: #FF4689\">*</span><span style=\"color: #F8F8F2\">scale),</span> <span style=\"color: #F8F8F2\">int(</span><span style=\"color: #AE81FF\">56</span><span style=\"color: #FF4689\">*</span><span style=\"color: #F8F8F2\">scale))</span>\n\n        <span style=\"color: #959077\"># Magnifying glass circle (white)</span>\n        <span style=\"color: #F8F8F2\">painter</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">setBrush(QColor(</span><span style=\"color: #AE81FF\">255</span><span style=\"color: #F8F8F2\">,</span> <span style=\"color: #AE81FF\">255</span><span style=\"color: #F8F8F2\">,</span> <span style=\"color: #AE81FF\">255</span><span style=\"color: #F8F8F2\">))</span>\n        <span style=\"color: #F8F8F2\">painter</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">drawEllipse(int(</span><span style=\"color: #AE81FF\">12</span><span style=\"color: #FF4689\">*</span><span style=\"color: #F8F8F2\">scale),</span> <span style=\"color: #F8F8F2\">int(</span><span style=\"color: #AE81FF\">12</span><span style=\"color: #FF4689\">*</span><span style=\"color: #F8F8F2\">scale),</span> <span style=\"color: #F8F8F2\">int(</span><span style=\"color: #AE81FF\">28</span><span style=\"color: #FF4689\">*</span><span style=\"color: #F8F8F2\">scale),</span> <span style=\"color: #F8F8F2\">int(</span><span style=\"color: #AE81FF\">28</span><span style=\"color: #FF4689\">*</span><span style=\"color: #F8F8F2\">scale))</span>\n\n        <span style=\"color: #959077\"># Inner circle (blue) - creates ring effect</span>\n        <span style=\"color: #F8F8F2\">painter</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">setBrush(QColor(</span><span style=\"color: #AE81FF\">14</span><span style=\"color: #F8F8F2\">,</span> <span style=\"color: #AE81FF\">99</span><span style=\"color: #F8F8F2\">,</span> <span style=\"color: #AE81FF\">156</span><span style=\"color: #F8F8F2\">))</span>\n        <span style=\"color: #F8F8F2\">painter</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">drawEllipse(int(</span><span style=\"color: #AE81FF\">18</span><span style=\"color: #FF4689\">*</span><span style=\"color: #F8F8F2\">scale),</span> <span style=\"color: #F8F8F2\">int(</span><span style=\"color: #AE81FF\">18</span><span style=\"color: #FF4689\">*</span><span style=\"color: #F8F8F2\">scale),</span> <span style=\"color: #F8F8F2\">int(</span><span style=\"color: #AE81FF\">16</span><span style=\"color: #FF4689\">*</span><span style=\"color: #F8F8F2\">scale),</span> <span style=\"color: #F8F8F2\">int(</span><span style=\"color: #AE81FF\">16</span><span style=\"color: #FF4689\">*</span><span style=\"color: #F8F8F2\">scale))</span>\n\n        <span style=\"color: #959077\"># Magnifying glass handle (white)</span>\n        <span style=\"color: #FF4689\">from</span><span style=\"color: #F8F8F2\"> PyQt6.QtGui </span><span style=\"color: #FF4689\">import</span> <span style=\"color: #F8F8F2\">QPen</span>\n        <span style=\"color: #F8F8F2\">pen</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">QPen(QColor(</span><span style=\"color: #AE81FF\">255</span><span style=\"color: #F8F8F2\">,</span> <span style=\"color: #AE81FF\">255</span><span style=\"color: #F8F8F2\">,</span> <span style=\"color: #AE81FF\">255</span><span style=\"color: #F8F8F2\">))</span>\n        <span style=\"color: #F8F8F2\">pen</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">setWidth(int(</span><span style=\"color: #AE81FF\">6</span><span style=\"color: #FF4689\">*</span><span style=\"color: #F8F8F2\">scale))</span>\n        <span style=\"color: #F8F8F2\">pen</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">setCapStyle(Qt</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">PenCapStyle</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">RoundCap)</span>\n        <span style=\"color: #F8F8F2\">painter</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">setPen(pen)</span>\n        <span style=\"color: #F8F8F2\">painter</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">drawLine(int(</span><span style=\"color: #AE81FF\">38</span><span style=\"color: #FF4689\">*</span><span style=\"color: #F8F8F2\">scale),</span> <span style=\"color: #F8F8F2\">int(</span><span style=\"color: #AE81FF\">38</span><span style=\"color: #FF4689\">*</span><span style=\"color: #F8F8F2\">scale),</span> <span style=\"color: #F8F8F2\">int(</span><span style=\"color: #AE81FF\">50</span><span style=\"color: #FF4689\">*</span><span style=\"color: #F8F8F2\">scale),</span> <span style=\"color: #F8F8F2\">int(</span><span style=\"color: #AE81FF\">50</span><span style=\"color: #FF4689\">*</span><span style=\"color: #F8F8F2\">scale))</span>\n\n        <span style=\"color: #F8F8F2\">painter</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">end()</span>\n        <span style=\"color: #F8F8F2\">icon</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">addPixmap(pixmap)</span>\n\n    <span style=\"color: #66D9EF\">return</span> <span style=\"color: #F8F8F2\">icon</span>\n\n\n<span style=\"color: #959077\"># ============================================================================</span>\n<span style=\"color: #959077\"># WORKER THREADS</span>\n<span style=\"color: #959077\"># ============================================================================</span>\n\n<span style=\"color: #66D9EF\">class</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #A6E22E\">IntegratedSearchWorker</span><span style=\"color: #F8F8F2\">(QThread):</span>\n<span style=\"color: #F8F8F2\">    </span><span style=\"color: #E6DB74\">&quot;&quot;&quot;Worker thread que usa el backend real de Windows Search API&quot;&quot;&quot;</span>\n\n    <span style=\"color: #959077\"># Se\u00f1ales</span>\n    <span style=\"color: #F8F8F2\">progress</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">pyqtSignal(int,</span> <span style=\"color: #F8F8F2\">str)</span>  <span style=\"color: #959077\"># progress, current file</span>\n    <span style=\"color: #F8F8F2\">result</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">pyqtSignal(SearchResult)</span>  <span style=\"color: #959077\"># resultado individual</span>\n    <span style=\"color: #F8F8F2\">finished</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">pyqtSignal(int)</span>  <span style=\"color: #959077\"># total resultados</span>\n    <span style=\"color: #F8F8F2\">error</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">pyqtSignal(str)</span>  <span style=\"color: #959077\"># mensaje de error</span>\n\n    <span style=\"color: #66D9EF\">def</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #A6E22E\">__init__</span><span style=\"color: #F8F8F2\">(</span>\n        <span style=\"color: #F8F8F2\">self,</span>\n        <span style=\"color: #F8F8F2\">search_service:</span> <span style=\"color: #F8F8F2\">SearchService,</span>\n        <span style=\"color: #F8F8F2\">keywords:</span> <span style=\"color: #F8F8F2\">List[str],</span>\n        <span style=\"color: #F8F8F2\">search_paths:</span> <span style=\"color: #F8F8F2\">List[str],</span>\n        <span style=\"color: #F8F8F2\">search_content:</span> <span style=\"color: #F8F8F2\">bool,</span>\n        <span style=\"color: #F8F8F2\">search_filename:</span> <span style=\"color: #F8F8F2\">bool</span>\n    <span style=\"color: #F8F8F2\">):</span>\n        <span style=\"color: #F8F8F2\">super()</span><span style=\"color: #FF4689\">.</span><span style=\"color: #A6E22E\">__init__</span><span style=\"color: #F8F8F2\">()</span>\n        <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">search_service</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">search_service</span>\n        <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">keywords</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">keywords</span>\n        <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">search_paths</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">search_paths</span>\n        <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">search_content</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">search_content</span>\n        <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">search_filename</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">search_filename</span>\n        <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">_cancel_requested</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">threading</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">Event()</span>\n        <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">results_count</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #AE81FF\">0</span>\n\n    <span style=\"color: #66D9EF\">def</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #A6E22E\">run</span><span style=\"color: #F8F8F2\">(self):</span>\n<span style=\"color: #F8F8F2\">        </span><span style=\"color: #E6DB74\">&quot;&quot;&quot;Ejecuta la b\u00fasqueda usando SearchService&quot;&quot;&quot;</span>\n        <span style=\"color: #66D9EF\">try</span><span style=\"color: #F8F8F2\">:</span>\n            <span style=\"color: #959077\"># Construir query</span>\n            <span style=\"color: #F8F8F2\">query</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">SearchQuery(</span>\n                <span style=\"color: #F8F8F2\">keywords</span><span style=\"color: #FF4689\">=</span><span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">keywords,</span>\n                <span style=\"color: #F8F8F2\">search_paths</span><span style=\"color: #FF4689\">=</span><span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">search_paths,</span>\n                <span style=\"color: #F8F8F2\">search_content</span><span style=\"color: #FF4689\">=</span><span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">search_content,</span>\n                <span style=\"color: #F8F8F2\">search_filename</span><span style=\"color: #FF4689\">=</span><span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">search_filename,</span>\n                <span style=\"color: #F8F8F2\">max_results</span><span style=\"color: #FF4689\">=</span><span style=\"color: #AE81FF\">10000</span>\n            <span style=\"color: #F8F8F2\">)</span>\n\n            <span style=\"color: #959077\"># Callback para resultados individuales</span>\n            <span style=\"color: #66D9EF\">def</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #A6E22E\">on_result</span><span style=\"color: #F8F8F2\">(result:</span> <span style=\"color: #F8F8F2\">SearchResult):</span>\n                <span style=\"color: #66D9EF\">if</span> <span style=\"color: #FF4689\">not</span> <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">_cancel_requested</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">is_set():</span>\n                    <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">results_count</span> <span style=\"color: #FF4689\">+=</span> <span style=\"color: #AE81FF\">1</span>\n                    <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">result</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">emit(result)</span>\n\n                    <span style=\"color: #66D9EF\">if</span> <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">results_count</span> <span style=\"color: #FF4689\">%</span> <span style=\"color: #AE81FF\">10</span> <span style=\"color: #FF4689\">==</span> <span style=\"color: #AE81FF\">0</span><span style=\"color: #F8F8F2\">:</span>\n                        <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">progress</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">emit(</span><span style=\"color: #AE81FF\">0</span><span style=\"color: #F8F8F2\">,</span> <span style=\"color: #F8F8F2\">result</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">name)</span>\n\n            <span style=\"color: #959077\"># Ejecutar b\u00fasqueda s\u00edncrona (ya estamos en thread)</span>\n            <span style=\"color: #F8F8F2\">results</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">search_service</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">search_sync(query,</span> <span style=\"color: #F8F8F2\">callback</span><span style=\"color: #FF4689\">=</span><span style=\"color: #F8F8F2\">on_result)</span>\n\n            <span style=\"color: #959077\"># Emitir finalizaci\u00f3n si no fue cancelada</span>\n            <span style=\"color: #66D9EF\">if</span> <span style=\"color: #FF4689\">not</span> <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">_cancel_requested</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">is_set():</span>\n                <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">finished</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">emit(len(results))</span>\n            <span style=\"color: #66D9EF\">else</span><span style=\"color: #F8F8F2\">:</span>\n                <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">finished</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">emit(</span><span style=\"color: #AE81FF\">0</span><span style=\"color: #F8F8F2\">)</span>\n\n        <span style=\"color: #66D9EF\">except</span> <span style=\"color: #A6E22E\">Exception</span> <span style=\"color: #66D9EF\">as</span> <span style=\"color: #F8F8F2\">e:</span>\n            <span style=\"color: #66D9EF\">if</span> <span style=\"color: #FF4689\">not</span> <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">_cancel_requested</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">is_set():</span>\n                <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">error</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">emit(str(e))</span>\n                <span style=\"color: #F8F8F2\">logger</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">exception(</span><span style=\"color: #E6DB74\">f&quot;Error in search worker: {</span><span style=\"color: #F8F8F2\">e</span><span style=\"color: #E6DB74\">}&quot;</span><span style=\"color: #F8F8F2\">)</span>\n\n    <span style=\"color: #66D9EF\">def</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #A6E22E\">stop</span><span style=\"color: #F8F8F2\">(self):</span>\n<span style=\"color: #F8F8F2\">        </span><span style=\"color: #E6DB74\">&quot;&quot;&quot;Detiene la b\u00fasqueda&quot;&quot;&quot;</span>\n        <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">_cancel_requested</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">set()</span>\n        <span style=\"color: #F8F8F2\">logger</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">info(</span><span style=\"color: #E6DB74\">&quot;Search cancellation requested&quot;</span><span style=\"color: #F8F8F2\">)</span>\n\n\n<span style=\"color: #959077\"># ============================================================================</span>\n<span style=\"color: #959077\"># WIDGETS PERSONALIZADOS</span>\n<span style=\"color: #959077\"># ============================================================================</span>\n\n<span style=\"color: #66D9EF\">class</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #A6E22E\">IntegratedDirectoryTreeWidget</span><span style=\"color: #F8F8F2\">(QTreeWidget):</span>\n<span style=\"color: #F8F8F2\">    </span><span style=\"color: #E6DB74\">&quot;&quot;&quot;</span>\n<span style=\"color: #E6DB74\">    Widget de \u00e1rbol de directorios integrado con DirectoryTree backend</span>\n<span style=\"color: #E6DB74\">    &quot;&quot;&quot;</span>\n\n    <span style=\"color: #66D9EF\">def</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #A6E22E\">__init__</span><span style=\"color: #F8F8F2\">(self,</span> <span style=\"color: #F8F8F2\">parent</span><span style=\"color: #FF4689\">=</span><span style=\"color: #66D9EF\">None</span><span style=\"color: #F8F8F2\">):</span>\n        <span style=\"color: #F8F8F2\">super()</span><span style=\"color: #FF4689\">.</span><span style=\"color: #A6E22E\">__init__</span><span style=\"color: #F8F8F2\">(parent)</span>\n        <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">setHeaderLabel(</span><span style=\"color: #E6DB74\">&quot;Directories to Search&quot;</span><span style=\"color: #F8F8F2\">)</span>\n        <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">setMinimumWidth(</span><span style=\"color: #AE81FF\">300</span><span style=\"color: #F8F8F2\">)</span>\n\n        <span style=\"color: #959077\"># Backend DirectoryTree</span>\n        <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">tree_model</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">DirectoryTree()</span>\n\n        <span style=\"color: #959077\"># Configurar widget</span>\n        <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">itemChanged</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">connect(self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">_on_item_changed)</span>\n        <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">_suppress_signals</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #66D9EF\">False</span>\n\n        <span style=\"color: #959077\"># Poblar desde directorios indexados</span>\n        <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">_populate_from_indexed()</span>\n\n        <span style=\"color: #959077\"># Intentar cargar configuraci\u00f3n guardada</span>\n        <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">_load_tree_config()</span>\n\n    <span style=\"color: #66D9EF\">def</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #A6E22E\">_populate_from_indexed</span><span style=\"color: #F8F8F2\">(self):</span>\n<span style=\"color: #F8F8F2\">        </span><span style=\"color: #E6DB74\">&quot;&quot;&quot;Pobla el \u00e1rbol desde los directorios indexados de Windows&quot;&quot;&quot;</span>\n        <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">clear()</span>\n\n        <span style=\"color: #959077\"># Obtener directorios indexados</span>\n        <span style=\"color: #F8F8F2\">indexed_dirs</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">WindowsSearchIndexManager</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">get_indexed_directories()</span>\n\n        <span style=\"color: #959077\"># Si no hay indexados, usar directorios comunes</span>\n        <span style=\"color: #66D9EF\">if</span> <span style=\"color: #FF4689\">not</span> <span style=\"color: #F8F8F2\">indexed_dirs:</span>\n            <span style=\"color: #F8F8F2\">user_profile</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">os</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">environ</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">get(</span><span style=\"color: #E6DB74\">&#39;USERPROFILE&#39;</span><span style=\"color: #F8F8F2\">,</span> <span style=\"color: #E6DB74\">&#39;&#39;</span><span style=\"color: #F8F8F2\">)</span>\n            <span style=\"color: #66D9EF\">if</span> <span style=\"color: #F8F8F2\">user_profile:</span>\n                <span style=\"color: #F8F8F2\">indexed_dirs</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">[</span>\n                    <span style=\"color: #F8F8F2\">user_profile,</span>\n                    <span style=\"color: #F8F8F2\">os</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">path</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">join(user_profile,</span> <span style=\"color: #E6DB74\">&#39;Desktop&#39;</span><span style=\"color: #F8F8F2\">),</span>\n                    <span style=\"color: #F8F8F2\">os</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">path</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">join(user_profile,</span> <span style=\"color: #E6DB74\">&#39;Documents&#39;</span><span style=\"color: #F8F8F2\">),</span>\n                    <span style=\"color: #F8F8F2\">os</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">path</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">join(user_profile,</span> <span style=\"color: #E6DB74\">&#39;Downloads&#39;</span><span style=\"color: #F8F8F2\">),</span>\n                    <span style=\"color: #F8F8F2\">os</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">path</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">join(user_profile,</span> <span style=\"color: #E6DB74\">&#39;Pictures&#39;</span><span style=\"color: #F8F8F2\">),</span>\n                    <span style=\"color: #F8F8F2\">os</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">path</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">join(user_profile,</span> <span style=\"color: #E6DB74\">&#39;Videos&#39;</span><span style=\"color: #F8F8F2\">),</span>\n                    <span style=\"color: #F8F8F2\">os</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">path</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">join(user_profile,</span> <span style=\"color: #E6DB74\">&#39;Music&#39;</span><span style=\"color: #F8F8F2\">),</span>\n                <span style=\"color: #F8F8F2\">]</span>\n\n        <span style=\"color: #959077\"># A\u00f1adir al modelo backend</span>\n        <span style=\"color: #66D9EF\">for</span> <span style=\"color: #F8F8F2\">directory</span> <span style=\"color: #FF4689\">in</span> <span style=\"color: #F8F8F2\">indexed_dirs:</span>\n            <span style=\"color: #66D9EF\">if</span> <span style=\"color: #F8F8F2\">os</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">path</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">exists(directory):</span>\n                <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">tree_model</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">add_directory(directory)</span>\n\n        <span style=\"color: #959077\"># Construir UI desde modelo</span>\n        <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">_build_ui_from_model()</span>\n\n    <span style=\"color: #66D9EF\">def</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #A6E22E\">_build_ui_from_model</span><span style=\"color: #F8F8F2\">(self):</span>\n<span style=\"color: #F8F8F2\">        </span><span style=\"color: #E6DB74\">&quot;&quot;&quot;Construye la UI del \u00e1rbol desde el modelo backend&quot;&quot;&quot;</span>\n        <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">_suppress_signals</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #66D9EF\">True</span>\n\n        <span style=\"color: #66D9EF\">def</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #A6E22E\">add_node_to_tree</span><span style=\"color: #F8F8F2\">(node:</span> <span style=\"color: #F8F8F2\">DirectoryNode,</span> <span style=\"color: #F8F8F2\">parent_item:</span> <span style=\"color: #F8F8F2\">Optional[QTreeWidgetItem]</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #66D9EF\">None</span><span style=\"color: #F8F8F2\">):</span>\n            <span style=\"color: #959077\"># Crear item</span>\n            <span style=\"color: #F8F8F2\">display_name</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">node</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">name</span>\n            <span style=\"color: #F8F8F2\">item</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">QTreeWidgetItem([display_name])</span>\n\n            <span style=\"color: #959077\"># Establecer estado checkbox</span>\n            <span style=\"color: #F8F8F2\">qt_state</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">_checkstate_to_qt(node</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">state)</span>\n            <span style=\"color: #F8F8F2\">item</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">setCheckState(</span><span style=\"color: #AE81FF\">0</span><span style=\"color: #F8F8F2\">,</span> <span style=\"color: #F8F8F2\">qt_state)</span>\n\n            <span style=\"color: #959077\"># Guardar referencia al nodo</span>\n            <span style=\"color: #F8F8F2\">item</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">setData(</span><span style=\"color: #AE81FF\">0</span><span style=\"color: #F8F8F2\">,</span> <span style=\"color: #F8F8F2\">Qt</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">ItemDataRole</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">UserRole,</span> <span style=\"color: #F8F8F2\">node</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">path)</span>\n            <span style=\"color: #F8F8F2\">item</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">setToolTip(</span><span style=\"color: #AE81FF\">0</span><span style=\"color: #F8F8F2\">,</span> <span style=\"color: #F8F8F2\">node</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">path)</span>\n\n            <span style=\"color: #959077\"># A\u00f1adir a padre o ra\u00edz</span>\n            <span style=\"color: #66D9EF\">if</span> <span style=\"color: #F8F8F2\">parent_item:</span>\n                <span style=\"color: #F8F8F2\">parent_item</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">addChild(item)</span>\n            <span style=\"color: #66D9EF\">else</span><span style=\"color: #F8F8F2\">:</span>\n                <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">addTopLevelItem(item)</span>\n\n            <span style=\"color: #959077\"># Recursivamente a\u00f1adir hijos</span>\n            <span style=\"color: #66D9EF\">for</span> <span style=\"color: #F8F8F2\">child_name</span> <span style=\"color: #FF4689\">in</span> <span style=\"color: #F8F8F2\">sorted(node</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">children</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">keys()):</span>\n                <span style=\"color: #F8F8F2\">child_node</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">node</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">children[child_name]</span>\n                <span style=\"color: #F8F8F2\">add_node_to_tree(child_node,</span> <span style=\"color: #F8F8F2\">item)</span>\n\n        <span style=\"color: #959077\"># A\u00f1adir todos los nodos ra\u00edz</span>\n        <span style=\"color: #66D9EF\">for</span> <span style=\"color: #F8F8F2\">root_name</span> <span style=\"color: #FF4689\">in</span> <span style=\"color: #F8F8F2\">sorted(self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">tree_model</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">root_nodes</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">keys()):</span>\n            <span style=\"color: #F8F8F2\">root_node</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">tree_model</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">root_nodes[root_name]</span>\n            <span style=\"color: #F8F8F2\">add_node_to_tree(root_node)</span>\n\n        <span style=\"color: #F8F8F2\">self</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">_suppress_signals</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #66D9EF\">False</span>\n\n    <span style=\"color: #66D9EF\">def</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #A6E22E\">_checkstate_to_qt</span><span style=\"color: #F8F8F2\">(self,</span> <span style=\"color: #F8F8F2\">state:</span> <span style=\"color: #F8F8F2\">CheckState)</span> <span style=\"color: #FF4689\">-&gt;</span> <span style=\"color: #F8F8F2\">Qt</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">CheckState:</span>\n<span style=\"color: #F8F8F2\">        </span><span style=\"color: #E6DB74\">&quot;&quot;&quot;Convierte CheckState a Qt.CheckState&quot;&quot;&quot;</span>\n        <span style=\"color: #F8F8F2\">mapping</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">{</span>\n            <span style=\"color: #F8F8F2\">CheckState</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">UNCHECKED:</span> <span style=\"color: #F8F8F2\">Qt</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">CheckState</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">Unchecked,</span>\n            <span style=\"color: #F8F8F2\">CheckState</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">PARTIAL:</span> <span style=\"color: #F8F8F2\">Qt</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">CheckState</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">PartiallyChecked,</span>\n            <span style=\"color: #F8F8F2\">CheckState</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">CHECKED:</span> <span style=\"color: #F8F8F2\">Qt</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">CheckState</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">Checked</span>\n        <span style=\"color: #F8F8F2\">}</span>\n        <span style=\"color: #66D9EF\">return</span> <span style=\"color: #F8F8F2\">mapping</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">get(state,</span> <span style=\"color: #F8F8F2\">Qt</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">CheckState</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">Unchecked)</span>\n\n    <span style=\"color: #66D9EF\">def</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #A6E22E\">_qt_to_checkstate</span><span style=\"color: #F8F8F2\">(self,</span> <span style=\"color: #F8F8F2\">qt_state:</span> <span style=\"color: #F8F8F2\">Qt</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">CheckState)</span> <span style=\"color: #FF4689\">-&gt;</span> <span style=\"color: #F8F8F2\">CheckState:</span>\n<span style=\"color: #F8F8F2\">        </span><span style=\"color: #E6DB74\">&quot;&quot;&quot;Convierte Qt.CheckState a CheckState&quot;&quot;&quot;</span>\n        <span style=\"color: #F8F8F2\">mapping</span> <span style=\"color: #FF4689\">=</span> <span style=\"color: #F8F8F2\">{</span>\n            <span style=\"color: #F8F8F2\">Qt</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">CheckState</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">Unchecked:</span> <span style=\"color: #F8F8F2\">CheckState</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">UNCHECKED,</span>\n            <span style=\"color: #F8F8F2\">Qt</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">CheckState</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">PartiallyChecked:</span> <span style=\"color: #F8F8F2\">CheckState</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">PARTIAL,</span>\n            <span style=\"color: #F8F8F2\">Qt</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">CheckState</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">Checked:</span> <span style=\"color: #F8F8F2\">CheckState</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">CHECKED</span>\n        <span style=\"color: #F8F8F2\">}</span>\n        <span style=\"color: #66D9EF\">return</span> <span style=\"color: #F8F8F2\">mapping</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">get(qt_state,</span> <span style=\"color: #F8F8F2\">CheckState</span><span style=\"color: #FF4689\">.</span><span style=\"color: #F8F8F2\">UNCHECKED)</span>\n\n    <span style=\"color: #66D9EF\">def</span><span style=\"color: #F8F8F2\"> </span><span style=\"color: #A6E22E\">_on_item_c</span>\n</pre></div></td></tr></table></div>\n",
  "metadata": {
    "filename": "main.py",
    "size": 37638,
    "modified": "2025-12-11T23:06:37.330300",
    "created": "2025-12-11T23:06:37.330300"
  }
}